<div class="dashboard-container">

  <div class="dashboard-header">
    <h1>My Dashboard</h1>
    <button class="btn create-room-btn" routerLink="/room/create" routerLinkActive="active">Create Room</button>
  </div>


  <div class="dashboard-grid">
    <div class="grid-column">
      <h2 class="section-title">Explore Rooms</h2>
      <div class="rooms-list">
        <div *ngFor="let room of rooms" class="room-card">
          <h3>{{ room.roomName }}</h3>
          <p>{{ room.roomDescription }}</p>
          <button class="join-btn" (click)="joinRoom(room.roomName)">Join</button>
        </div>
      </div>
    </div>

    <!-- Right Column: Your Tasks -->
    <div class="grid-column">
      <h2 class="section-title">Your Tasks</h2>
      <div class="tasks-list">
        <div *ngFor="let task of Tasks" class="task-card" [class.completed]="task.completed">
          <div class="task-content">
            <h3 class="task-title">{{ task.task }}</h3>
            <p class="task-assignee">To: {{ task.assignedTo }}</p>
          </div>
          <div class="task-meta">
            <!-- NEW: Checkbox to mark as completed -->
            <div class="task-completion">
              <input
                type="checkbox"
                [id]="'task-checkbox-' + task.id"
                [checked]="task.completed"
                (change)="toggleTaskCompletion(task, $event)">
              <label [for]="'task-checkbox-' + task.id">Mark as completed</label>
            </div>
            <span class="task-due-date">
              <svg xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
              {{ task.dueDate | date: 'MMM d, y' }}
            </span>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
